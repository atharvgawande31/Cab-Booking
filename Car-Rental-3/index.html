<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rent a Car</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
    }
    .clear-btn {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: #9ca3af;
      border-radius: 50%;
      width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
      color: white;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .input-group:hover .clear-btn { opacity: 1; }
    .category-btn.active { background-color: #0d6efd; color: white; }
    .category-btn { flex-shrink: 0; transition: all 0.2s; }
    .disabled-field { opacity: 0.5; pointer-events: none; }
  </style>
</head>
<body>
  <!-- Hero Background -->
  <div class="relative  bg-cover bg-center flex flex-col justify-center items-center h-[70vh]" 
       style="background-image: url('images/bg.jpg');">
    <div class="absolute inset-0 bg-black opacity-50"></div>
    <div class="text-center text-white z-20 mt-60">
      <h1 class="text-4xl md:text-6xl font-bold">Rent a Car for Every Journey</h1>
      <p class="mt-3 text-lg md:text-xl">Find the perfect ride, with or without a driver</p>
    </div>

    <!-- Category Selector -->
  

    <!-- Form Box -->
    <div class="bg-white rounded-2xl shadow-xl p-6 w-full max-w-6xl mt-60 z-20 relative  ">
      <!-- Top Controls -->
      <div class="d-flex align-items-center gap-3 mb-3">
        <span class="text-gray-700 font-medium">Round Trip?</span>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="roundTripToggle">
        </div>
      </div>

      <!-- Inputs Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end">
        <!-- Pickup Location -->
        <div class="input-group position-relative">
          <input type="text" id="pickupLocation" placeholder="Pickup Location"
                 class="form-control px-4 py-3 fw-bold fs-5">
          <div class="clear-btn" onclick="clearInput('pickupLocation')">×</div>
        </div>

        <!-- Drop Location -->
        <div class="input-group position-relative " id="dropLocationGroup">
          <input type="text" id="dropLocation" placeholder="Drop Location"
                 class="form-control px-4 py-3 fw-bold fs-5">
          <div class="clear-btn" onclick="clearInput('dropLocation')">×</div>
        </div>

        <!-- Pickup Date & Time -->
        <div>
          <label class="form-label fw-bold">Pickup</label>
          <div class="d-flex gap-2">
            <input type="date" id="pickupDate" class="form-control">
            <input type="time" id="pickupTime" class="form-control">
          </div>
        </div>

        <!-- Return Date & Time -->
        <div class="disabled-field" id="returnDateGroup">
          <label class="form-label fw-bold">Return</label>
          <div class="d-flex gap-2">
            <input type="date" id="returnDate" class="form-control" disabled>
            <input type="time" id="returnTime" class="form-control" disabled>
          </div>
        </div>
      </div>

      <!-- Search Button -->
      <div class="d-flex justify-content-end mt-4">
        <button class="btn btn-dark px-5 py-2" onclick="handleSearch()">Search</button>
      </div>
    </div>
  </div>

  <script>
    // Category selection
    const categoryButtons = document.querySelectorAll('.category-btn');
    let selectedCategory = 'Sedan';
    categoryButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        categoryButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedCategory = btn.textContent;
      });
    });

    // Round-trip toggle
    const roundTripToggle = document.getElementById('roundTripToggle');
    const dropLocation = document.getElementById('dropLocation');
    const dropLocationGroup = document.getElementById('dropLocationGroup');
    const returnDate = document.getElementById('returnDate');
    const returnTime = document.getElementById('returnTime');
    const returnDateGroup = document.getElementById('returnDateGroup');

    function toggleRoundTripFields(active) {
      returnDate.disabled = returnTime.disabled = !active;

      if(active){
        returnDateGroup.classList.remove('disabled-field');
      } else {
        returnDateGroup.classList.add('disabled-field');
        returnDate.value = '';
        returnTime.value = '';
      }
    }

    roundTripToggle.addEventListener('change', function() {
      toggleRoundTripFields(this.checked);
    });
    toggleRoundTripFields(false);

    // Clear input
    function clearInput(id) { document.getElementById(id).value = ''; }

    // Load saved search data
    window.onload = function() {
      const data = JSON.parse(localStorage.getItem('searchData'));
      if (data) {
        document.getElementById('pickupLocation').value = data.pickupLocation || '';
        document.getElementById('dropLocation').value = data.dropLocation || '';
        document.getElementById('pickupDate').value = data.pickupDate || '';
        document.getElementById('pickupTime').value = data.pickupTime || '';
        document.getElementById('returnDate').value = data.returnDate || '';
        document.getElementById('returnTime').value = data.returnTime || '';
        roundTripToggle.checked = data.roundTrip || false;
        toggleRoundTripFields(roundTripToggle.checked);

        selectedCategory = data.category || 'Sedan';
        categoryButtons.forEach(btn => {
          btn.classList.toggle('active', btn.textContent === selectedCategory);
        });
      }
    }

    // Search handler
    function handleSearch() {
      const pickup = document.getElementById('pickupLocation').value.trim();
      const drop = document.getElementById('dropLocation').value.trim();
      const pickupDate = document.getElementById('pickupDate').value;
      const pickupTime = document.getElementById('pickupTime').value;
      const returnDateVal = document.getElementById('returnDate').value;
      const returnTimeVal = document.getElementById('returnTime').value;
      const roundTrip = roundTripToggle.checked;

      if (!pickup) { alert('Enter Pickup Location'); return; }
      if (roundTrip && !drop) { alert('Enter Drop Location'); return; }
      if (!pickupDate || !pickupTime) { alert('Select Pickup Date & Time'); return; }
      if (roundTrip && (!returnDateVal || !returnTimeVal)) { alert('Select Return Date & Time'); return; }

      const searchData = {
        pickupLocation: pickup,
        dropLocation: roundTrip ? drop : pickup,
        pickupDate, pickupTime,
        returnDate: roundTrip ? returnDateVal : pickupDate,
        returnTime: roundTrip ? returnTimeVal : pickupTime,
        roundTrip,
        category: selectedCategory
      };

      localStorage.setItem('searchData', JSON.stringify(searchData));
      console.log('Search Data:', searchData);
      alert(`Search initiated for ${selectedCategory} car! Check console for details.`);
    }
  </script>
</body>
</html>